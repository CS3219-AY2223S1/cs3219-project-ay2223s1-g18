{"ast":null,"code":"var _jsxFileName = \"/Users/tiff/Downloads/OneDrive - National University of Singapore/Y5S1/CS3219/cs3219-project-ay2223s1-g18/frontend/src/components/SignupPage.js\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, TextField, Typography } from \"@mui/material\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { URL_USER_SVC } from \"../configs\";\nimport { STATUS_CODE_CONFLICT, STATUS_CODE_CREATED } from \"../constants\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignupPage() {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [dialogTitle, setDialogTitle] = useState(\"\");\n  const [dialogMsg, setDialogMsg] = useState(\"\");\n  const [isSignupSuccess, setIsSignupSuccess] = useState(false);\n\n  const handleSignup = async () => {\n    setIsSignupSuccess(false);\n    const res = await axios.post(URL_USER_SVC, {\n      username,\n      password\n    }).catch(err => {\n      if (err.response.status === STATUS_CODE_CONFLICT) {\n        setErrorDialog('This username already exists');\n      } else {\n        setErrorDialog('Please try again later');\n      }\n    });\n\n    if (res && res.status === STATUS_CODE_CREATED) {\n      setSuccessDialog('Account successfully created');\n      setIsSignupSuccess(true);\n    }\n  };\n\n  const closeDialog = () => setIsDialogOpen(false);\n\n  const setSuccessDialog = msg => {\n    setIsDialogOpen(true);\n    setDialogTitle('Success');\n    setDialogMsg(msg);\n  };\n\n  const setErrorDialog = msg => {\n    setIsDialogOpen(true);\n    setDialogTitle('Error');\n    setDialogMsg(msg);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"30%\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      marginBottom: \"2rem\",\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Username\",\n      variant: \"standard\",\n      value: username,\n      onChange: e => setUsername(e.target.value),\n      sx: {\n        marginBottom: \"1rem\"\n      },\n      autoFocus: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Password\",\n      variant: \"standard\",\n      type: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      sx: {\n        marginBottom: \"2rem\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"flex-end\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: handleSignup,\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: isDialogOpen,\n      onClose: closeDialog,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: dialogTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: dialogMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: isSignupSuccess ? /*#__PURE__*/_jsxDEV(Button, {\n          component: Link,\n          to: \"/login\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          onClick: closeDialog,\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 27\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignupPage, \"BmWL9uN4kwGOFATv9F6oygBgFuw=\");\n\n_c = SignupPage;\nexport default SignupPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupPage\");","map":{"version":3,"names":["Box","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TextField","Typography","useState","axios","URL_USER_SVC","STATUS_CODE_CONFLICT","STATUS_CODE_CREATED","Link","SignupPage","username","setUsername","password","setPassword","isDialogOpen","setIsDialogOpen","dialogTitle","setDialogTitle","dialogMsg","setDialogMsg","isSignupSuccess","setIsSignupSuccess","handleSignup","res","post","catch","err","response","status","setErrorDialog","setSuccessDialog","closeDialog","msg","e","target","value","marginBottom"],"sources":["/Users/tiff/Downloads/OneDrive - National University of Singapore/Y5S1/CS3219/cs3219-project-ay2223s1-g18/frontend/src/components/SignupPage.js"],"sourcesContent":["import {\r\n    Box,\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle,\r\n    TextField,\r\n    Typography\r\n} from \"@mui/material\";\r\nimport {useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {URL_USER_SVC} from \"../configs\";\r\nimport {STATUS_CODE_CONFLICT, STATUS_CODE_CREATED} from \"../constants\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction SignupPage() {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n    const [dialogTitle, setDialogTitle] = useState(\"\")\r\n    const [dialogMsg, setDialogMsg] = useState(\"\")\r\n    const [isSignupSuccess, setIsSignupSuccess] = useState(false)\r\n\r\n    const handleSignup = async () => {\r\n        setIsSignupSuccess(false)\r\n        const res = await axios.post(URL_USER_SVC, { username, password })\r\n            .catch((err) => {\r\n                if (err.response.status === STATUS_CODE_CONFLICT) {\r\n                    setErrorDialog('This username already exists')\r\n                } else {\r\n                    setErrorDialog('Please try again later')\r\n                }\r\n            })\r\n        if (res && res.status === STATUS_CODE_CREATED) {\r\n            setSuccessDialog('Account successfully created')\r\n            setIsSignupSuccess(true)\r\n        }\r\n    }\r\n\r\n    const closeDialog = () => setIsDialogOpen(false)\r\n\r\n    const setSuccessDialog = (msg) => {\r\n        setIsDialogOpen(true)\r\n        setDialogTitle('Success')\r\n        setDialogMsg(msg)\r\n    }\r\n\r\n    const setErrorDialog = (msg) => {\r\n        setIsDialogOpen(true)\r\n        setDialogTitle('Error')\r\n        setDialogMsg(msg)\r\n    }\r\n\r\n    return (\r\n        <Box display={\"flex\"} flexDirection={\"column\"} width={\"30%\"}>\r\n            <Typography variant={\"h3\"} marginBottom={\"2rem\"}>Sign Up</Typography>\r\n            <TextField\r\n                label=\"Username\"\r\n                variant=\"standard\"\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                sx={{marginBottom: \"1rem\"}}\r\n                autoFocus\r\n            />\r\n            <TextField\r\n                label=\"Password\"\r\n                variant=\"standard\"\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                sx={{marginBottom: \"2rem\"}}\r\n            />\r\n            <Box display={\"flex\"} flexDirection={\"row\"} justifyContent={\"flex-end\"}>\r\n                <Button variant={\"outlined\"} onClick={handleSignup}>Sign up</Button>\r\n            </Box>\r\n\r\n            <Dialog\r\n                open={isDialogOpen}\r\n                onClose={closeDialog}\r\n            >\r\n                <DialogTitle>{dialogTitle}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>{dialogMsg}</DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    {isSignupSuccess\r\n                        ? <Button component={Link} to=\"/login\">Log in</Button>\r\n                        : <Button onClick={closeDialog}>Done</Button>\r\n                    }\r\n                </DialogActions>\r\n            </Dialog>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default SignupPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}